# ğŸ” iTunesProject

- iTunes Search APIë¥¼ í™œìš©í•œ ìŒì•… ë° íŒŸìºìŠ¤íŠ¸, ì˜í™” ê²€ìƒ‰ ì•±ì…ë‹ˆë‹¤.
- í™ˆí™”ë©´ì—ì„œ ê³„ì ˆë³„ ìŒì•… ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©° ê²€ìƒ‰ì°½ì„ í†µí•´ ê²€ìƒ‰ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ê²€ìƒ‰ ê²°ê³¼ë¡œëŠ” íŒŸ ìºìŠ¤íŠ¸, ì˜í™” ëª©ë¡ì„ ì œê³µí•˜ë©° ì„ íƒ ì‹œ ìƒì„¸ ì •ë³´ë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ“¸ í™”ë©´ ë¯¸ë¦¬ë³´ê¸°

<p align="center">
  <img src="https://github.com/user-attachments/assets/59abcace-71c0-40d2-981b-c806f3fa9f33" width="100%" />
</p>

---

## ğŸ—“ í”„ë¡œì íŠ¸ ì¼ì •

- **ì‹œì‘ì¼:** 2025ë…„ 5ì›” 12ì¼
- **ì¢…ë£Œì¼:** 2025ë…„ 5ì›” 19ì¼

---

## ğŸ“‚ í´ë” êµ¬ì¡°
```
iTunesProject
â”œâ”€â”€ App/                     # ì•± ì „ì—­ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì„¤ì • ê´€ë ¨ ë””ë ‰í† ë¦¬
â”‚   â””â”€â”€ DIContainer
â”œâ”€â”€ Data/                    # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ì¤‘ì‹¬ì´ ë˜ëŠ” ê³„ì¸µ, ì™¸ë¶€ì™€ì˜ ì˜ì¡´ì´ ì—†ëŠ” ìˆœìˆ˜ ë¡œì§ ì •ì˜
â”‚   â”œâ”€â”€ Error
â”‚   â”œâ”€â”€ Manager
â”‚   â”œâ”€â”€ Model
â”‚   â”œâ”€â”€ Network
â”‚   â””â”€â”€ Repository/
â”‚       â””â”€â”€ Implementation
â”œâ”€â”€ Domain                   # ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤ì™€ì˜ ì—°ê²° ë° êµ¬ì²´ì ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ ë‹´ë‹¹
â”‚   â”œâ”€â”€ Entity
â”‚   â”œâ”€â”€ Repository/
â”‚   â”‚   â””â”€â”€ Interface
â”‚   â”œâ”€â”€ UseCase/
â”‚   â”‚   â”œâ”€â”€ Interface
â”‚   â”‚   â””â”€â”€ Implementation
â”œâ”€â”€ Presentation             # UIì™€ ê´€ë ¨ëœ ë¡œì§ì„ ê´€ë¦¬í•˜ëŠ” ê³„ì¸µ
â”‚   â”œâ”€â”€ Detail
â”‚   â”œâ”€â”€ Home/
â”‚   â”‚   â”œâ”€â”€ Cell
â”‚   â”‚   â”œâ”€â”€ View
â”‚   â”‚   â””â”€â”€ ViewModel
â”‚   â”œâ”€â”€ Search/
â”‚   â”œâ”€â”€ Shared/
â”‚   â”‚   â”œâ”€â”€ Animation
â”‚   â”‚   â”œâ”€â”€ Base/
â”‚   â”‚   â”œâ”€â”€ Constants
â”‚   â”‚   â”œâ”€â”€ Extension
â”‚   â”‚   â””â”€â”€ Protocol
â””â”€â”€ Resources/               # í”„ë¡œì íŠ¸ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ë””ë ‰í† ë¦¬
```

---

## ğŸ›  ì‚¬ìš© ê¸°ìˆ 

- **Swift 5**
- **UIKit**
- **MVVM Pattern**
- **Clean Architecture**
- **RxSwift & RxCocoa & RxDataSources**
- **SnapKit**
- **Then**
- **DI & DIP**

---

## ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

- í™ˆí™”ë©´ ë´„, ì—¬ë¦„, ê°€ì„, ê²¨ìš¸ í…Œë§ˆì˜ ìŒì•… ì •ë³´ í™•ì¸ ê°€ëŠ¥
- íŒŸ ìºìŠ¤íŠ¸ ë° ì˜í™” media ê²€ìƒ‰ ê¸°ëŠ¥ ì œê³µ
- ê²€ìƒ‰ ì‹œ ê²€ìƒ‰ ê²°ê³¼ í™”ë©´ì—ì„œ PodCast, Movie ì„¹ì…˜ìœ¼ë¡œ ê²°ê³¼ ì œê³µ
- ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ëŠ” ê²½ìš° 'ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ' ë©”ì‹œì§€ ë¬¸êµ¬ í‘œì‹œ
- ê²€ìƒ‰ ë‹¨ì–´ë¥¼ ê²°ê³¼ í™”ë©´ì˜ Titleë¡œ í‘œì‹œ (í„°ì¹˜ ì‹œ í™ˆí™”ë©´ìœ¼ë¡œ back)
- PodCast ë° Movie ì•„ì´í…œ í´ë¦­ ì‹œ ìƒì„¸í™”ë©´ ì œê³µ (.pageSheet)
- ë‹¤í¬ëª¨ë“œ ì§€ì›
  
---

## ğŸ§© Trouble Shooting

### ğŸ” SearchControllerë¥¼ í†µí•œ API ë‹¤ì¤‘ êµ¬ë… ì´ìŠˆ

<p align="left">
  <img src="https://github.com/user-attachments/assets/95a9c422-5f63-4416-8075-d6f1a7c78447" width="25%" />
</p>

- **ë¬¸ì œ**
   - ê²€ìƒ‰ì–´ ì…ë ¥ ì‹œ `debounce`ë¥¼ ì‚¬ìš©í•´ 1ì´ˆ ë’¤ APIë¥¼ í˜¸ì¶œí•˜ë„ë¡ êµ¬í˜„í–ˆìœ¼ë‚˜, PodCast Cellì˜ ì¶”ì²œ ë¬¸êµ¬ê°€ ê³„ì† ë°”ë€ŒëŠ” ë¬¸ì œê°€ ë°œìƒ
   - ë””ë²„ê¹… ê²°ê³¼, `fetchPodcasts, fetchMovies` APIê°€ ê°ê° 7ë²ˆì”© í˜¸ì¶œë˜ë©° ì¤‘ë³µ í˜¸ì¶œë¨
- **ì›ì¸**
  - `queryRelay`ë¥¼ í†µí•´ `debounce`ëœ ê²€ìƒ‰ì–´ë¡œ APIë¥¼ ìš”ì²­í•˜ë„ë¡ í–ˆì§€ë§Œ, `.searchQuery` ì•¡ì…˜ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ `fetchSearchQuery()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  ìˆì—ˆìŒ
  - ì¦‰, `queryRelay`ì— ê°’ì„ ì „ë‹¬í•˜ëŠ” ê²ƒê³¼ ë™ì‹œì— `queryRelay`ë¥¼ êµ¬ë…í•˜ëŠ” ë©”ì„œë“œë¥¼ ë§¤ë²ˆ í˜¸ì¶œí•˜ì—¬ `queryRelay`ì˜ êµ¬ë…ì´ ëˆ„ì ë˜ê³ , ê·¸ì— ë”°ë¼ API í˜¸ì¶œë„ ë°˜ë³µë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•œ ê²ƒ
  - ì´ëŠ” PublishRelayê°€ cold observableì´ ì•„ë‹ˆë¯€ë¡œ êµ¬ë…ì„ ë§¤ë²ˆ ìƒˆë¡œ í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ì ì„ ê°„ê³¼í•œ ì„¤ê³„ì˜€ìŒ
- **í•´ê²°**
  - `queryRelay`ëŠ” í•œ ë²ˆë§Œ êµ¬ë…í•˜ë©´ ë˜ë¯€ë¡œ `fetchSearchQuery()` ë©”ì„œë“œëŠ” `init()` ì‹œì ì— í•œ ë²ˆë§Œ í˜¸ì¶œë˜ë„ë¡ ìˆ˜ì •
  - ì´í›„ì—ëŠ” `.searchQuery` ì•¡ì…˜ ë°œìƒ ì‹œ `queryRelay.accept(query)`ë§Œ ìˆ˜í–‰í•˜ë„ë¡ ë¶„ë¦¬í•¨

```swift
// âš ï¸ ë¬¸ì œì˜ êµ¬ì¡°
init() {
    bind()
}

private func bind() {
    actionSubject
        .subscribe(with: self) { owner, action in
            switch action {
            case .searchQuery(let query):
                owner.queryRelay.accept(query)
                owner.fetchSearchQuery() // ë¬¸ì œì˜ í˜¸ì¶œ ì‹œì 
            }
        }
        .disposed(by: disposeBag)
}
```

```swift
// âœ… í•´ê²°ëœ êµ¬ì¡°
init() {
    fetchSearchQuery()   // êµ¬ë…ì€ 1íšŒë§Œ
    bind()
}

private func bind() {
    actionSubject
        .subscribe(with: self) { owner, action in
            switch action {
            case .searchQuery(let query):
                owner.queryRelay.accept(query) // ê°’ë§Œ ì „ë‹¬
            }
        }
        .disposed(by: disposeBag)
}
```

---

## ğŸ“ í´ë¦° ì•„í‚¤í…ì²˜ë¥¼ ì ìš©í•´ë³¸ ë‚´ìš©
### âœ… ëª¨ë“ˆí™” (Modularity)
- ëª¨ë“ˆí™”ì˜ ëª©ì 
  - ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì´ê³ , ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ì½”ë“œë¥¼ ê´€ë¦¬ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸° ìœ„í•¨
  - ê° ë ˆì´ì–´ì˜ ì±…ì„ ë¶„ë¦¬ (Responsibility Segregation)
  - í…ŒìŠ¤íŠ¸ ìš©ì´ì„± í–¥ìƒ (íŠ¹íˆ ViewModel / UseCase ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)

```markdown
iTunesProject
â”œâ”€â”€ App/DI            ğŸ‘‰ ITunesDIContainer, ì˜ì¡´ì„± ì£¼ì… ì„¤ì •
â”œâ”€â”€ Data              ğŸ‘‰ Network, Repository êµ¬í˜„ì²´
â”œâ”€â”€ Domain            ğŸ‘‰ Entity, UseCase, Protocol
â”œâ”€â”€ Presentation      ğŸ‘‰ ViewController, View, ViewModel
â”œâ”€â”€ Resources         ğŸ‘‰ Assets, Extension ë“±
```
- ê° ëª¨ë“ˆë³„ ì±…ì„ ëª…ì‹œ
  - App/DI: ê°ì²´ ê°„ ì˜ì¡´ì„± ì—°ê²° ì—­í•  (ì˜ˆ: ITunesDIContainer)
  - Data: ì™¸ë¶€ ì˜ì¡´ ì²˜ë¦¬. API í˜¸ì¶œ, Repositoryì˜ êµ¬ì²´ êµ¬í˜„
  - Domain: í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§. Entity, UseCase, Protocol
  - Presentation: UI, ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ì²˜ë¦¬. ViewController, ViewModel í¬í•¨
  - Resources: í™•ì¥ ìœ í‹¸ ê´€ë¦¬

### âœ… ì˜ì¡´ì„± ì£¼ì… (Dependency Injection)
- ë„ì… ë°°ê²½
  - ë³¸ í”„ë¡œì íŠ¸ëŠ” í´ë¦° ì•„í‚¤í…ì²˜ ê¸°ë°˜ìœ¼ë¡œ ê° ë ˆì´ì–´ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³  ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì´ê¸° ìœ„í•´, DIContainer íŒ¨í„´ì„ ë„ì…í•˜ì—¬ ì˜ì¡´ì„±ì„ ì™¸ë¶€ì—ì„œ ì£¼ì…ë°›ëŠ” êµ¬ì¡°ë¡œ ì„¤ê³„í•¨
  - ì´ë¥¼ í†µí•´ ViewControllerë‚˜ ViewModel ë‚´ë¶€ì—ì„œ ê°ì²´ë¥¼ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³ , ê°ì²´ ê°„ì˜ ìƒëª…ì£¼ê¸° ê´€ë¦¬ì™€ í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„

- ì‚¬ìš© ë°©ì‹
```swift
final class ITunesDIContainer: ITunesDIContainerInterface {
    func makeHomeViewModel() -> HomeViewModel {
        let repository = MusicRepository()
        let useCase = MusicUseCase(repository: repository)
        return HomeViewModel(useCase: useCase)
    }
    
    func makeSearchViewController() -> SearchViewController {
        let viewModel = makeSearchViewModel()
        return SearchViewController(searchViewModel: viewModel)
    }
}
```

- ViewModel ìƒì„±ì„ DIContainerì—ì„œ ë‹´ë‹¹
- UseCaseì™€ Repositoryë¥¼ DIContainer ë‚´ë¶€ì—ì„œ êµ¬ì„±
- í•„ìš” ì‹œ SearchViewController ë“± í•˜ìœ„ ëª¨ë“ˆê¹Œì§€ DIContainerì—ì„œ ì§ì ‘ ìƒì„±

</br>

```swift
final class HomeViewController: BaseViewController {
    private let diContainer: ITunesDIContainerInterface
    private let homeViewModel: HomeViewModel
    private lazy var searchViewController = diContainer.makeSearchViewController()
    
    init(diContainer: ITunesDIContainerInterface) {
        self.diContainer = diContainer
        self.homeViewModel = diContainer.makeHomeViewModel()
        super.init(nibName: nil, bundle: nil)
    }
}
```

- ViewControllerëŠ” DIContainerì˜ êµ¬í˜„ì²´ë¥¼ init ì‹œì ì— ì£¼ì…ë°›ì•„ ì‚¬ìš©
- ì§ì ‘ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ , ViewModel ë° í•˜ìœ„ VC ëª¨ë‘ DIContainerë¥¼ í†µí•´ íšë“
- ITunesDIContainerInterfaceë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ ë˜ëŠ” ëª¨í‚¹ ê°€ëŠ¥

</br>

- ì˜ì¡´ì„± íë¦„ ì›ì¹™
```markdown
HomeViewController
   â””â”€â”€ diContainer â† ITunesDIContainerInterface
             â”œâ”€â”€ makeHomeViewModel()
             â”‚     â””â”€â”€ MusicUseCase
             â”‚           â””â”€â”€ MusicRepository
             â””â”€â”€ makeSearchViewController()
                   â””â”€â”€ SearchViewModel â† SearchUseCase â† SearchRepository
```

### âœ… ì˜ì¡´ì„± ì—­ì „ ì›ì¹™
- ì •ì˜
  - ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ì€ SOLID ì›ì¹™ ì¤‘ **D**ì— í•´ë‹¹í•˜ë©°, ë‹¤ìŒ ë‘ ê°€ì§€ë¥¼ ì˜ë¯¸í•¨
    - ê³ ìˆ˜ì¤€ ëª¨ë“ˆì€ ì €ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•˜ë©´ ì•ˆë¨. ë‘˜ ë‹¤ ì¶”ìƒí™”ì— ì˜ì¡´
    - ì¶”ìƒí™”ëŠ” ì„¸ë¶€ ì‚¬í•­ì— ì˜ì¡´í•˜ë©´ ì•ˆë¨. ì„¸ë¶€ ì‚¬í•­ì´ ì¶”ìƒí™”ì— ì˜ì¡´
    - ì¦‰, êµ¬ì²´ íƒ€ì…ì´ ì•„ë‹Œ í”„ë¡œí† ì½œ(ì¸í„°í˜ì´ìŠ¤)ì— ì˜ì¡´í•˜ë„ë¡ êµ¬ì¡°í™”

</br>

- DIP ì ìš© ì˜ˆì‹œ
  
```swift
//MARK: - ì˜ˆì‹œ 1: HomeViewModel â† MusicUseCase â† MusicRepositoryInterface
final class MusicUseCase: MusicUseCaseInterface {
    private let repository: MusicRepositoryInterface

    init(repository: MusicRepositoryInterface) {
        self.repository = repository
    }
}
```
- MusicUseCaseëŠ” MusicRepositoryì˜ êµ¬ì²´ êµ¬í˜„ì´ ì•„ë‹Œ, MusicRepositoryInterfaceì— ì˜ì¡´

</br>

```swift
//MARK: - ì˜ˆì‹œ 2: HomeViewController â† DIContainer â† ViewModel
final class HomeViewController: BaseViewController {
    private let homeViewModel: HomeViewModel

    init(diContainer: ITunesDIContainerInterface) {
        self.homeViewModel = diContainer.makeHomeViewModel()
    }
}
```
- HomeViewControllerëŠ” ViewModelì„ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³ , ì™¸ë¶€ì—ì„œ ì£¼ì…
  - ì˜ì¡´ì„± ë°©í–¥ì„ ê±°ê¾¸ë¡œ(ì—­ì „) ì„¤ì •í•˜ì—¬ ê²°í•©ë„ë¥¼ ë‚®ì¶¤

---

## ğŸ’¦ ë©”ëª¨ë¦¬ ì´ìŠˆ ë””ë²„ê¹… ë° ê²½í—˜
### ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œê²¬ë˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ Instruments - Leaks ì‚¬ìš© ê²½í—˜
- Xcode Menu - Product - Profile
- Instruments - Leaks
- Recording Button Click

<p align="center">
  <img src="https://github.com/user-attachments/assets/5ad7314a-95ba-4384-8382-9407412249a8" width="90%" />
</p>

---
